<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test WebView</title>
    <script>
        // Define a function to send messages to native code
        function sendMessage(messageType, data) {
            if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.eventListener) {
                // For iOS
                window.webkit.messageHandlers.eventListener.postMessage({
                    messageType: messageType,
                    data: data
                });
            } else if (window.android) {
                // For Android
                window.android.postMessage(JSON.stringify({
                    messageType: messageType,
                    data: data
                }));
            } else {
                console.log("Neither iOS nor Android WebView detected.");
            }
        }

        // Example usage
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('trackEventButton').addEventListener('click', function () {
                sendMessage('trackEvent', {
                    eventName: 'buttonClicked',
                    params: {
                        buttonName: 'trackEventButton',
                        action: 'clicked'
                    }
                });
            });
            document.getElementById('handleDeeplinkButton').addEventListener('click', function () {
                sendMessage('handleDeeplink', {url: 'myapp://example'});
            });
        });
    </script>
</head>

<body>
<h1>Hello, WebView!</h1>
<button id="trackEventButton">Track Event</button>
<button id="handleDeeplinkButton">Handle Deeplink</button>
</body>

</html>